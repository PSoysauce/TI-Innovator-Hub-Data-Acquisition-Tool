<!doctypehtml><meta charset="UTF-8"><title>TI Data Hub</title><link href="dependencies/bootstrap.min.css"rel="stylesheet"><link rel="stylesheet"type="text/css"href="css/style.css"><script src="dependencies/moment.min.js"></script><script src="dependencies/chart.min.js"></script><script src="dependencies/chartjs-plugin-streaming.min.js"></script><script src="dependencies/jquery.slim.min.js"></script><script src="dependencies/popper.min.js"></script><script src="dependencies/bootstrap.min.js"></script><header><section id="header"><nav class="navbar navbar-expand-lg navbar-light main-nav"><a href="https://www.ti.com/"class="logo navbar-brand"><img src="images/logo.png"alt="tilogo"class="img-responsive"> </a><button class="navbar-toggler"type="button"data-toggle="collapse"data-target="#mainNav"aria-controls="mainNav"aria-expanded="false"aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse justify-content-end"id="mainNav"><ul class="nav navbar-nav navbar-right"><li class="nav-item nav"><a class="px-2"href="oscilloscope.html">Oscilloscope</a><li class="nav-item nav"><a class="px-2"href="voltmeter.html">Voltmeter</a><li class="nav-item nav"><a class="px-2"href="logic.html">Logic Analyzer</a><li class="nav-item nav"><a class="active px-2"href="waveform.html">Waveform Generator</a><li class="nav-item nav"><a class="px-2"href="power.html">Power Supply</a></ul></div></nav></section></header><div class="container h-100"><div class="row h-100"><div class="col-md-12"><div class="row h-100 main"><div class="col-md-12 col-lg-4"><div class="row"><div class="col-md-12"><form id="settings-form"><div class="row m-0"><div class="col-md-12 border border-secondary"><h4 class="text-center">Waveform Characteristics</h4></div></div><div class="row m-0"><div class="col-md-12 text-white bg-dark-custom border border-secondary"><div><div class="input-group input-group-sm mb-3 mt-3"><div class="input-group-prepend"><span class="input-group-text">Type</span></div><select class="form-select form-select-sm"><option class="dropdown-item"value="square"selected="selected">Square<option class="dropdown-item"value="sine">Sine<option class="dropdown-item"value="sawtooth">Sawtooth</select></div><div class="input-group input-group-sm mb-3"><div class="input-group-prepend"><span class="input-group-text">Frequency (Hz)</span></div><input id="freq-input"class="form-control"aria-label="Small"aria-describedby="freq-input"value="2"> <input type="range"class="form-range"min="1"max="512"step="1"value="1"id="freq-range"></div><div class="input-group input-group-sm mb-3"><div class="input-group-prepend"><span class="input-group-text">DAC Frequency (Hz)</span></div><input id="dac-freq-input"class="form-control"aria-label="Small"aria-describedby="dac-freq-input"value="1024"> <input type="range"class="form-range"min="1"max="8192"step="1"value="1024"id="dac-freq-range"></div><div class="input-group input-group-sm mb-3"><div class="input-group-prepend"><span class="input-group-text">Amplitude (V)</span></div><input id="amplitude-input"class="form-control"aria-label="Small"aria-describedby="amplitude-input"value="1"> <input type="range"class="form-range"min="0.1"max="12"step="0.1"value="1"id="amplitude-range"></div><div class="input-group input-group-sm mb-3"><div class="input-group-prepend"><span class="input-group-text">Bias (V)</span></div><input id="bias-input"class="form-control"aria-label="Small"aria-describedby="amplitude-input"value="0.5"> <input type="range"class="form-range"min="-12"max="12"step="0.1"value="0.5"id="bias-range"></div></div></div></div></form></div></div></div><div class="col-lg-8 col-md-12 p-2 p-0 h-100 float-left border border-secondary"><div class="col-md-12"><canvas id="idealChart"class="w-100 border bg-dark-custom border-secondary"></canvas></div></div></div></div></div></div><script>jQuery.fn.inputFilter=function(e){return this.on("input keydown keyup mousedown mouseup select contextmenu drop",(function(){e(this.value)?(this.oldValue=this.value,this.oldSelectionStart=this.selectionStart,this.oldSelectionEnd=this.selectionEnd):this.hasOwnProperty("oldValue")?(this.value=this.oldValue,this.setSelectionRange(this.oldSelectionStart,this.oldSelectionEnd)):this.value=""}))},$("#settings-form input[type='text']").inputFilter((function(e){return/^-{0,1}\d*\.{0,1}\d*$/.test(e)}));var freq,amplitude,dacFreq,type,bias,chart=new Chart(document.getElementById("idealChart").getContext("2d"),{type:"line",data:{datasets:[{pointStyle:"line",label:"Ideal voltage",data:[],steppedLine:!0,fill:!1,borderColor:"rgb(14, 173, 105)"}]},options:{plugins:{zoom:{pan:{enabled:!0,mode:"x"},zoom:{enabled:!0,mode:"x"}}},title:{display:!0,text:"Theoretical Waveform",fontColor:"rgb(255, 255, 255)"},legend:{labels:{defaultFontFamily:"'Roboto', 'Franklin Gothic Medium', 'Tahoma', 'sans-serif",fontColor:"rgb(255, 255, 255)"}},color:"rgb(255, 255, 255)",scales:{yAxes:[{gridLines:{drawOnChartArea:!0,color:"rgb(255,255,255)"},ticks:{fontColor:"rgb(255, 255, 255)",beginAtZero:!0,callback:function(e,t,a){return e+" V"}},scaleLabel:{display:!0,labelString:"Voltage"},type:"linear"}],xAxes:[{ticks:{fontColor:"rgb(255, 255, 255)",beginAtZero:!0,callback:function(e,t,a){return e+"s"}},scaleLabel:{display:!0,labelString:"Time"},type:"linear"}]}}});function updateVars(){freq=(freq=parseFloat($("#freq-input").val()))<=0?.01:freq,amplitude=parseFloat($("#amplitude-input").val()),dacFreq=(dacFreq=parseFloat($("#dac-freq-input").val()))<=0?.01:dacFreq,type=$("#settings-form option:selected").index(),bias=parseFloat($("#bias-input").val())}function trimNum(e){return Math.round(e*10**7)/10**7}function setIdealChart(){data=[];var e=dacFreq>freq?dacFreq/freq:dacFreq;switch(type){case 0:for(freq<1&&(e=dacFreq/freq),cycleLength=trimNum(1/freq),i=0;i<e;i++)sec=trimNum(i/dacFreq),cycleCount=Math.floor(trimNum(sec/cycleLength)),sec-=cycleCount*cycleLength,sec<=cycleLength/2?data.push(bias+amplitude/2):data.push(bias-amplitude/2);break;case 1:for(dx=2*Math.PI*freq/dacFreq,freq<1&&(e=dacFreq/freq,dx=2*Math.PI/e,console.log(e)),i=0;i<e;i++)data.push(amplitude/2*Math.sin(i*dx)+bias);break;case 2:for(dx=amplitude/freq,dacFreq>freq&&(e=dacFreq,dx=amplitude/e),freq<1&&(e=dacFreq/freq),cycleLength=trimNum(1/freq),i=0;i<e;i++)sec=trimNum(i/e),cycleCount=Math.floor(trimNum(sec/cycleLength)),sec-=cycleCount*cycleLength,data.push(sec/cycleLength*amplitude+bias-amplitude/2)}for(chart.data.datasets[0].data=[],cycleIndex=0,length=Math.floor(freq)==freq?dacFreq:e;chart.data.datasets[0].data.length<=length;){for(i=0;i<e&&(chart.data.datasets[0].data.push({x:trimNum((cycleIndex*e+i)/dacFreq),y:trimNum(data[i])}),!(chart.data.datasets[0].data.length>length));i++);cycleIndex++}chart.update()}function resetZoom(){chart.resetZoom()}$("#settings-form :input").change((function(){this.id.includes("range")?$("#"+this.id.substring(0,this.id.indexOf("range"))+"input").val(this.value):this.id.includes("input")&&$("#"+this.id.substring(0,this.id.indexOf("input"))+"range").val(this.value),updateVars(),setIdealChart()})),$(document).ready((function(){updateVars(),setIdealChart()}));</script>